{"version":3,"file":"static/js/358.0f202226.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx","webpack://goit-react-hw-05-movies/./src/components/Searchbar/SearchBar.module.css?0673","components/Searchbar/SearchBar.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","webpack://goit-react-hw-05-movies/./src/shared/components/Buttons/button.module.css?a366","shared/components/Buttons/Button.jsx","webpack://goit-react-hw-05-movies/./src/shared/components/Loader/loader.module.css?6689","shared/components/Loader/Loader.jsx","webpack://goit-react-hw-05-movies/./src/shared/components/Section/section.module.css?95c2","shared/components/Section/Section.jsx","shared/servises/film-app.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MovieList_item__tDivI\",\"link\":\"MovieList_link__+cn-g\",\"list\":\"MovieList_list__yjDCC\"};","import PropTypes from 'prop-types';\nimport { memo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom';\nimport style from './MovieList.module.css';\n\nconst MovieList = ({ items }) => {\n  const location = useLocation();\n  const elements = items.map(({ id, title }) => (\n    <li className={style.item} key={id}>\n      <Link\n        className={style.link}\n        to={`/movies/${id}`}\n        state={{ from: location }}\n      >\n        {title}\n      </Link>\n    </li>\n  ));\n  return <ul className={style.list}>{elements}</ul>;\n};\nexport default memo(MovieList);\n\nMovieList.defaultProps = {\n  items: [],\n};\n\nMovieList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"SearchBar_input__03utj\",\"btn\":\"SearchBar_btn__NF-XN\",\"form\":\"SearchBar_form__8vdns\"};","import PropTypes from 'prop-types';\nimport { useState, memo } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { IoSearch } from 'react-icons/io5';\nimport { IconContext } from 'react-icons';\nimport style from './SearchBar.module.css';\n\nconst SearchBar = ({ onSubmit }) => {\n  const [search, setSearch] = useState('');\n\n  const handleChange = ({ target }) => {\n    const { value } = target;\n    setSearch(value.trim());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (search === '') {\n      toast.info('Enter a search term.');\n      return;\n    }\n    onSubmit({ search });\n    setSearch('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={style.form}>\n      <input\n        className={style.input}\n        value={search}\n        onChange={handleChange}\n        name=\"search\"\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n      ></input>\n      <button type=\"submit\" className={style.btn}>\n        <IconContext.Provider\n          value={{\n            style: { width: '20px', height: '20px', fill: '#3498db' },\n          }}\n        >\n          <IoSearch />\n        </IconContext.Provider>\n      </button>\n    </form>\n  );\n};\n\nexport default memo(SearchBar);\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Movies_title__MDLXB\"};","import { useSearchParams } from 'react-router-dom';\nimport { useState, useEffect, useCallback } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { getMoviesSearch } from 'shared/servises/film-app';\nimport Section from 'shared/components/Section/Section';\nimport SearchBar from 'components/Searchbar/SearchBar';\nimport Loader from 'shared/components/Loader/Loader';\nimport FilmsList from 'components/MovieList/MovieList';\nimport Buttons from 'shared/components/Buttons/Button';\nimport style from './Movies.module.css';\n\nconst MoviesPage = () => {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search');\n  const page = searchParams.get('page');\n\n  useEffect(() => {\n    if (search === '' || search === null) {\n      return;\n    }\n\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const data = await getMoviesSearch(page, search);\n        setItems(data.results);\n        if (!data.results.length) {\n          toast.info('Sorry, no results were found for your search(');\n        }\n      } catch ({ response }) {\n        toast.error(response.data.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovies();\n  }, [page, search]);\n\n  const onSearchMovies = useCallback(\n    ({ search }) => {\n      setSearchParams({ search, page: 1 });\n      setItems([]);\n    },\n    [setSearchParams]\n  );\n\n  const nextPage = useCallback(() => {\n    if (page > 0) {\n      setSearchParams({ search, page: Number(page) + 1 });\n    }\n  }, [search, page, setSearchParams]);\n\n  const previousPage = useCallback(() => {\n    setSearchParams({ search, page: Number(page) - 1 });\n  }, [search, page, setSearchParams]);\n\n  return (\n    <Section>\n      <SearchBar onSubmit={onSearchMovies}></SearchBar>\n      <h1 className={style.title}>\n        {items.length > 0\n          ? `Search results: ${search}`\n          : 'Please start searching'}\n      </h1>\n      {loading && <Loader />}\n      {items.length > 0 && !loading && <FilmsList items={items} />}\n      {items.length > 0 && !loading && (\n        <Buttons page={page} nextPage={nextPage} previousPage={previousPage} />\n      )}\n    </Section>\n  );\n};\n\nexport default MoviesPage;\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"button_button__KtMeR\",\"btnBox\":\"button_btnBox__KIQ+i\",\"text\":\"button_text__gFpCL\"};","import PropTypes from 'prop-types';\nimport { AiOutlineArrowLeft } from 'react-icons/ai';\nimport { AiOutlineArrowRight } from 'react-icons/ai';\nimport { IconContext } from 'react-icons';\nimport style from './button.module.css';\n\nconst Buttons = ({ page, previousPage, nextPage }) => {\n  return (\n    <div className={style.btnBox}>\n      {page > 1 && (\n        <button className={style.button} type=\"button\" onClick={previousPage}>\n          <IconContext.Provider\n            value={{\n              style: { width: '20px', height: '20px', fill: '#3498db' },\n            }}\n          >\n            <AiOutlineArrowLeft />\n          </IconContext.Provider>\n        </button>\n      )}\n\n      {<p className={style.text}>{page}</p>}\n      <button className={style.button} type=\"button\" onClick={nextPage}>\n        <IconContext.Provider\n          value={{\n            style: { width: '20px', height: '20px', fill: '#3498db' },\n          }}\n        >\n          <AiOutlineArrowRight />\n        </IconContext.Provider>\n      </button>\n    </div>\n  );\n};\n\nexport default Buttons;\n\nButtons.propTypes = {\n  page: PropTypes.string.isRequired,\n  previousPage: PropTypes.func.isRequired,\n  nextPage: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"box\":\"loader_box__6R4dw\"};","import { RotatingLines } from 'react-loader-spinner';\nimport style from './loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={style.box}>\n      <RotatingLines\n        strokeColor=\"#3498db\"\n        strokeWidth=\"5\"\n        animationDuration=\"0.75\"\n        width=\"96\"\n        visible={true}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"section_section__QWjNu\"};","import PropTypes from 'prop-types';\nimport style from './section.module.css';\n\nfunction Section({ children }) {\n  return <section className={style.section}>{children}</section>;\n}\n\nexport default Section;\n\nSection.propTypes = {\n  children: PropTypes.any,\n};\n","import axios from 'axios';\n\nconst KEY = 'ca0d78fc8a47137eba1f3be4e5ed856b';\nexport const baseImgUrl = 'https://image.tmdb.org/t/p/w500';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: KEY,\n    language: 'en-US',\n  },\n});\n\nexport const getMoviesPopular = async (page = 1) => {\n  const { data } = await instance.get('trending/movie/day', {\n    params: {\n      page,\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieDetails = async (id, path) => {\n  const { data } = await instance.get(`movie/${id}${path}`);\n  return data;\n};\n\nexport const getMoviesSearch = async (page = 1, query) => {\n  const { data } = await instance.get('search/movie', {\n    params: {\n      page,\n      query,\n      sort_by: 'popularity.desc',\n    },\n  });\n  return data;\n};"],"names":["MovieList","items","location","useLocation","elements","map","id","title","className","style","to","state","from","memo","defaultProps","SearchBar","onSubmit","useState","search","setSearch","e","preventDefault","toast","value","onChange","target","trim","name","type","autoComplete","autoFocus","placeholder","width","height","fill","setItems","loading","setLoading","useSearchParams","searchParams","setSearchParams","get","page","useEffect","fetchMovies","getMoviesSearch","data","results","length","response","message","onSearchMovies","useCallback","nextPage","Number","previousPage","Section","Loader","Button","onClick","strokeColor","strokeWidth","animationDuration","visible","children","baseImgUrl","instance","axios","baseURL","params","api_key","language","getMoviesPopular","fetchMovieDetails","path","query","sort_by"],"sourceRoot":""}